{"version":3,"sources":["../../../source/server/models/blog.js"],"names":["module","exports","Blog","remoteMethod","http","verb","path","accepts","arg","type","source","returns","root","getBlog","req","title","options","cb","searchQuery","where","then","blog","catch","getBlogErr","getAllBlogs","blogs","getBlogsErr","postBlog","body","newBlog","insertErr"],"mappings":";;AAAA;;AAEAA,OAAOC,OAAP,GAAiB,UAACC,IAAD,EAAU;;AAEzBA,OAAKC,YAAL,CAAkB,SAAlB,EAA6B;AAC3BC,UAAM,EAAEC,MAAM,KAAR,EAAeC,MAAM,SAArB,EADqB;AAE3BC,aAAS,CACP,EAAEC,KAAK,KAAP,EAAcC,MAAM,QAApB,EAA8BL,MAAM,EAAEM,QAAQ,KAAV,EAApC,EADO,EAEP,EAAEF,KAAK,OAAP,EAAgBC,MAAM,QAAtB,EAFO,EAGP,EAAED,KAAK,SAAP,EAAkBC,MAAM,QAAxB,EAAkCL,MAAM,oBAAxC,EAHO,CAFkB;AAO3BO,aAAS,EAAEH,KAAK,OAAP,EAAgBC,MAAM,MAAtB,EAA8BG,MAAM,IAApC;AAPkB,GAA7B;;AAUFV,OAAKW,OAAL,GAAe,UAACC,GAAD,EAAMC,KAAN,EAAaC,OAAb,EAAsBC,EAAtB,EAA6B;AAC1C,QAAMC,cAAc;AAClBC,aAAO;AACLJ,eAAOA;AADF;AADW,KAApB;AAKA,6BAAWb,IAAX,EAAiBgB,WAAjB,EACCE,IADD,CACM,UAACC,IAAD,EAAU;AACdJ,SAAG,IAAH,EAASI,IAAT;AACD,KAHD,EAICC,KAJD,CAIO,UAACC,UAAD,EAAgB;AACrBN,SAAGM,UAAH;AACD,KAND;AAOD,GAbD;;AAeArB,OAAKC,YAAL,CAAkB,aAAlB,EAAiC;AAC/BC,UAAM,EAAEC,MAAM,KAAR,EAAeC,MAAM,GAArB,EADyB;AAE/BC,aAAS,CACP,EAAEC,KAAK,KAAP,EAAcC,MAAM,QAApB,EAA8BL,MAAM,EAAEM,QAAQ,KAAV,EAApC,EADO,EAEP,EAAEF,KAAK,SAAP,EAAkBC,MAAM,QAAxB,EAAkCL,MAAM,oBAAxC,EAFO,CAFsB;AAM/BO,aAAS,EAAEH,KAAK,OAAP,EAAgBC,MAAM,MAAtB,EAA8BG,MAAM,IAApC;AANsB,GAAjC;;AASAV,OAAKsB,WAAL,GAAmB,UAACV,GAAD,EAAME,OAAN,EAAeC,EAAf,EAAsB;AACvC,+BAAaf,IAAb,EACCkB,IADD,CACM,UAACK,KAAD,EAAW;AACfR,SAAG,IAAH,EAASQ,KAAT;AACD,KAHD,EAICH,KAJD,CAIO,UAACI,WAAD,EAAiB;AACtBT,SAAGS,WAAH;AACD,KAND;AAOD,GARD;;AAUAxB,OAAKC,YAAL,CAAkB,UAAlB,EAA8B;AAC5BC,UAAM,EAAEC,MAAM,MAAR,EAAgBC,MAAM,QAAtB,EADsB;AAE5BC,aAAS,CACP,EAAEC,KAAK,KAAP,EAAcC,MAAM,QAApB,EAA8BL,MAAM,EAAEM,QAAQ,KAAV,EAApC,EADO,EAEP,EAAEF,KAAK,MAAP,EAAeC,MAAM,QAArB,EAA+BL,MAAM,EAAEM,QAAQ,MAAV,EAArC,EAFO,EAGP,EAAEF,KAAK,SAAP,EAAkBC,MAAM,QAAxB,EAAkCL,MAAM,oBAAxC,EAHO,CAFmB;AAO5BO,aAAS,EAAEH,KAAK,OAAP,EAAgBC,MAAM,MAAtB,EAA8BG,MAAM,IAApC;AAPmB,GAA9B;;AAUAV,OAAKyB,QAAL,GAAgB,UAACb,GAAD,EAAMc,IAAN,EAAYZ,OAAZ,EAAqBC,EAArB,EAA4B;AAC1C,6BAAWf,IAAX,EAAiB0B,IAAjB,EACCR,IADD,CACM,UAACS,OAAD,EAAa;AACjBZ,SAAG,IAAH,EAASY,OAAT;AACD,KAHD,EAICP,KAJD,CAIO,UAACQ,SAAD,EAAe;AACpBb,SAAGa,SAAH;AACD,KAND;AAOD,GARD;AAUC,CAlED","file":"blog.js","sourcesContent":["import { getOneBlog, getManyBlogs, insertBlog } from '../daos/blogDAO.js';\n\nmodule.exports = (Blog) => {\n\n  Blog.remoteMethod('getBlog', {\n    http: { verb: 'get', path: '/:title' },\n    accepts: [\n      { arg: 'req', type: 'Object', http: { source: 'req' } },\n      { arg: 'title', type: 'String' },\n      { arg: 'options', type: 'Object', http: 'optionsFromRequest' },\n    ],\n    returns: { arg: 'items', type: 'blog', root: true },\n  });\n\nBlog.getBlog = (req, title, options, cb) => {\n  const searchQuery = {\n    where: {\n      title: title\n    }\n  };\n  getOneBlog(Blog, searchQuery)\n  .then((blog) => {\n    cb(null, blog);\n  })\n  .catch((getBlogErr) => {\n    cb(getBlogErr);\n  });\n}\n\nBlog.remoteMethod('getAllBlogs', {\n  http: { verb: 'get', path: '/' },\n  accepts: [\n    { arg: 'req', type: 'Object', http: { source: 'req' } },\n    { arg: 'options', type: 'Object', http: 'optionsFromRequest' },\n  ],\n  returns: { arg: 'items', type: 'blog', root: true },\n});\n\nBlog.getAllBlogs = (req, options, cb) => {\n  getManyBlogs(Blog)\n  .then((blogs) => {\n    cb(null, blogs);\n  })\n  .catch((getBlogsErr) => {\n    cb(getBlogsErr);\n  });\n}\n\nBlog.remoteMethod('postBlog', {\n  http: { verb: 'post', path: '/blogs' },\n  accepts: [\n    { arg: 'req', type: 'Object', http: { source: 'req' } },\n    { arg: 'body', type: 'Object', http: { source: 'body' } },\n    { arg: 'options', type: 'Object', http: 'optionsFromRequest' },\n  ],\n  returns: { arg: 'items', type: 'blog', root: true },\n});\n\nBlog.postBlog = (req, body, options, cb) => {\n  insertBlog(Blog, body)\n  .then((newBlog) => {\n    cb(null, newBlog);\n  })\n  .catch((insertErr) => {\n    cb(insertErr);\n  })\n}\n\n}\n"]}